!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&(define.amd||define.cmd)?define(t):e.lCache=t()}("undefined"!=typeof window?window:this,function(){function e(e){this.limit=e,this.size=0,this.head=this.tail=void 0,this.map={}}return function(){this.put=function(e,t){var i,h=this.get(e,!0);return h||(this.size===this.limit&&(i=this.shift()),h={key:e},this.head?(h.older=this.tail,this.tail.newer=h):this.head=h,this.tail=this.map[e]=h,this.size++),h.value=t,i},this.get=function(e,t){var i=this.map[e];return i&&i!=this.tail&&(i.older?i.older.newer=i.newer:this.head=i.newer,i.newer.older=i.older,i.older=this.tail,this.tail.newer=i,i.newer=void 0,this.tail=i),t?i:i&&i.value},this.shift=function(e){var t=null!=e?this.get(e,!0):this.head;return t&&(t.newer?(this.head=t.newer,t.newer=this.head.older=void 0):t.older?(this.tail=t.older,t.older=this.tail.newer=void 0):this.head=this.tail=void 0,this.size--,delete this.map[t.key]),t}}.call(e.prototype),{newInstance:function(t){return new e(t)}}});